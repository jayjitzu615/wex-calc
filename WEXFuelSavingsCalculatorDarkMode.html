<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WEX ROI Tool - Dark Mode</title>
    <style>
        :root { 
            --wex-red: #ff3e30; 
            --wex-dark: #121212; 
            --card-bg: #1e1e1f; 
            --input-bg: #2a2a2b;
            --text-main: #e0e0e0;
            --text-dim: #a0a0a0;
            --border: #38383a;
        }
        body { 
            font-family: 'Inter', 'Segoe UI', Arial, sans-serif; 
            background: var(--wex-dark); 
            color: var(--text-main); 
            padding: 20px; 
            margin: 0; 
        }
        .wrapper { max-width: 650px; margin: auto; }
        .header { text-align: center; margin-bottom: 25px; }
        .logo { max-width: 160px; filter: brightness(1.2); }
        
        .card-container { 
            background: var(--card-bg); 
            padding: 30px; 
            border-radius: 16px; 
            box-shadow: 0 12px 40px rgba(0,0,0,0.5); 
            border: 1px solid var(--border);
            border-top: 4px solid var(--wex-red);
        }
        
        .card-visual { text-align: center; margin-bottom: 25px; }
        .card-img { 
            max-width: 260px; 
            border-radius: 12px; 
            box-shadow: 0 8px 20px rgba(0,0,0,0.4); 
            border: 1px solid #444;
        }
        
        .input-section { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 15px; }
        label { display: block; font-weight: 600; font-size: 11px; color: var(--text-dim); margin-bottom: 8px; text-transform: uppercase; letter-spacing: 1px; }
        select, input { 
            width: 100%; padding: 12px; 
            background: var(--input-bg); 
            border: 1px solid var(--border); 
            border-radius: 8px; 
            color: white; 
            font-size: 16px; 
        }
        select:focus, input:focus { border-color: var(--wex-red); outline: none; }
        
        .checkbox-group { 
            grid-column: span 2; 
            background: rgba(255, 62, 48, 0.08); 
            padding: 14px; 
            border-radius: 8px; 
            border: 1px solid rgba(255, 62, 48, 0.3); 
            display: flex; 
            align-items: center; 
            gap: 12px; 
            cursor: pointer; 
            transition: 0.2s;
        }
        .checkbox-group:hover { background: rgba(255, 62, 48, 0.15); }
        .checkbox-group input { width: auto; cursor: pointer; }

        .fee-transparency { 
            background: #252526; 
            padding: 15px; 
            border-radius: 10px; 
            margin-bottom: 25px; 
            border: 1px solid var(--border);
        }
        .fee-transparency h4 { margin: 0 0 8px 0; font-size: 13px; color: var(--wex-red); text-transform: uppercase; }
        .fee-list { font-size: 13px; line-height: 1.6; color: var(--text-dim); }
        .network-feature { color: #4ade80; font-weight: bold; margin-top: 8px; font-size: 12px; }

        .results-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 20px; }
        .res-box { background: #121212; padding: 18px; border-radius: 10px; text-align: center; border: 1px solid var(--border); }
        .res-box.red { border-color: var(--wex-red); background: rgba(255, 62, 48, 0.05); }
        .res-label { font-size: 10px; text-transform: uppercase; color: var(--text-dim); display: block; margin-bottom: 4px; }
        .res-val { font-size: 20px; font-weight: 700; color: white; }
        .red .res-val { color: var(--wex-red); }

        .break-even-bar { 
            background: linear-gradient(145deg, #2a1010, #1e1e1f); 
            border: 1px solid var(--wex-red); 
            padding: 20px; 
            border-radius: 12px; 
            text-align: center; 
        }
        .be-val { font-size: 36px; font-weight: 800; color: var(--wex-red); display: block; }

        .btn-copy { 
            width: 100%; background: var(--wex-red); color: white; border: none; 
            padding: 16px; border-radius: 8px; font-weight: bold; cursor: pointer; 
            margin-top: 20px; text-transform: uppercase; transition: 0.3s;
        }
        .btn-copy:hover { background: #ff5e54; transform: translateY(-2px); }
        
        .footer { text-align: center; margin-top: 40px; font-size: 11px; color: #555; border-top: 1px solid #222; padding-top: 20px; }
    </style>
</head>
<body>

<div class="wrapper">
    <div class="header">
        <img src="WEX-LOGO.jpg" alt="WEX Logo" class="logo">
    </div>

    <div class="card-container">
        <div class="card-visual">
            <img id="cardImage" src="efs-fleet-card.png" alt="Fuel Card" class="card-img">
        </div>

        <div class="input-section">
            <div>
                <label>Fuel Program</label>
                <select id="program" onchange="calculate()">
                    <option value="efs">EFS Platform</option>
                    <option value="fleetone">Fleet One Edge</option>
                </select>
            </div>
            <div>
                <label>Monthly Gallons</label>
                <input type="number" id="gallons" value="2500" oninput="calculate()">
            </div>
            <div id="merchantDiscountGroup">
                <label id="discountLabel">Negotiated Merchant Discount (Avg/Exact)</label>
                <input type="number" id="merchantDiscount" value="0.45" step="0.01" oninput="calculate()">
            </div>
            <div id="cardGroup" style="display:none;">
                <label>Active Cards</label>
                <input type="number" id="cardCount" value="1" oninput="calculate()">
            </div>
            <div id="edgeAddonGroup" class="checkbox-group">
                <input type="checkbox" id="addEdgeNetwork" onchange="calculate()">
                <label style="margin-bottom:0; cursor:pointer; font-size: 13px; color: white;">Apply Edge Discount Network (+$0.15 Avg)</label>
            </div>
        </div>

        <div class="fee-transparency" id="feeBox">
            <h4 id="feeTitle">Program Transparency</h4>
            <div class="fee-list" id="feeDetails"></div>
            <div class="network-feature" id="networkText"></div>
        </div>

        <div class="results-grid">
            <div class="res-box">
                <span class="res-label">Net Savings / Gal</span>
                <span class="res-val" id="netSaveGal">$0.00</span>
            </div>
            <div class="res-box">
                <span class="res-label">Monthly Fees</span>
                <span class="res-val" id="monthlyFees">$0.00</span>
            </div>
            <div class="res-box red">
                <span class="res-label">Monthly ROI</span>
                <span class="res-val" id="monthlyNet">$0.00</span>
            </div>
            <div class="res-box red">
                <span class="res-label">Annual ROI</span>
                <span class="res-val" id="annualNet">$0.00</span>
            </div>
        </div>

        <div class="break-even-bar">
            <span class="res-label" style="color:var(--wex-red); font-weight:bold;">Monthly Break-Even Volume</span>
            <span class="be-val"><span id="beGallons">0</span> Gallons</span>
        </div>

        <button class="btn-copy" onclick="copyQuote()">Copy Quote Summary</button>
    </div>

    <div class="footer">
        Program coded and programmed by <strong>Jonathan Booth</strong>
    </div>
</div>

<script>
    function calculate() {
        const program = document.getElementById('program').value;
        const gallons = parseFloat(document.getElementById('gallons').value) || 0;
        const merchantDisc = parseFloat(document.getElementById('merchantDiscount').value) || 0;
        const cardCount = parseFloat(document.getElementById('cardCount').value) || 1;
        const addEdge = document.getElementById('addEdgeNetwork').checked;
        
        let totalDisc = 0;
        let monthlyFees = 0;
        let setupFee = 0;
        
        if (program === 'efs') {
            document.getElementById('cardImage').src = 'efs-fleet-card.png';
            document.getElementById('cardGroup').style.display = 'none';
            document.getElementById('edgeAddonGroup').style.display = 'flex';
            document.getElementById('discountLabel').innerText = "Negotiated Discount (Avg/Exact)";
            
            totalDisc = merchantDisc + (addEdge ? 0.15 : 0);
            setupFee = 50;
            const transCount = Math.ceil(gallons / 125) || 1;
            monthlyFees = 99.95 + (transCount * 1.50);

            document.getElementById('feeDetails').innerHTML = "• $50.00 Setup • $99.95 Monthly Account • $1.50 Transaction (est.)";
            document.getElementById('networkText').innerText = addEdge ? "✓ Edge Network Active: +3,900 Stops Enabled" : "";
            
        } else {
            document.getElementById('cardImage').src = 'fleet-one-edge.png';
            document.getElementById('cardGroup').style.display = 'block';
            document.getElementById('edgeAddonGroup').style.display = 'none';
            document.getElementById('discountLabel').innerText = "Addtl Negotiated Savings";

            totalDisc = 0.15 + merchantDisc;
            setupFee = 75;
            monthlyFees = cardCount * 8.00;

            document.getElementById('feeDetails').innerHTML = "• $75.00 Setup • $8.00/Card Fee • $0.00 In-Network Transactions";
            document.getElementById('networkText').innerText = "✓ Network Range: $0.10 - $1.00+ off at POS";
        }

        const netMonthly = (gallons * totalDisc) - monthlyFees;
        const netAnnual = (netMonthly * 12) - setupFee;
        const breakEven = monthlyFees / totalDisc;

        document.getElementById('netSaveGal').innerText = `$${totalDisc.toFixed(2)}`;
        document.getElementById('monthlyFees').innerText = `$${monthlyFees.toFixed(2)}`;
        document.getElementById('monthlyNet').innerText = `$${netMonthly.toLocaleString(undefined, {minimumFractionDigits: 2})}`;
        document.getElementById('annualNet').innerText = `$${netAnnual.toLocaleString(undefined, {minimumFractionDigits: 2})}`;
        document.getElementById('beGallons').innerText = isFinite(breakEven) ? Math.ceil(breakEven).toLocaleString() : 0;
    }

    function copyQuote() {
        const prog = document.getElementById('program').options[document.getElementById('program').selectedIndex].text;
        const summary = `WEX ROI Summary\nProgram: ${prog}\nTotal Savings: ${document.getElementById('netSaveGal').innerText}/gal\nMonthly ROI: ${document.getElementById('monthlyNet').innerText}\nAnnual ROI: ${document.getElementById('annualNet').innerText}\nBreak-Even: ${document.getElementById('beGallons').innerText} gal/mo`;
        navigator.clipboard.writeText(summary);
        alert("Dark Mode Summary copied!");
    }
    calculate();
</script>
</body>
</html>